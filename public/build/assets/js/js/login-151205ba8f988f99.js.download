(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(640)}])},8481:function(e,t){"use strict";t.Z={google_signin_error:{header:"Google Signin Error",body:"An error occurred during Google sign-in. Please try again later."},fill_all_fiels:{header:"Fill all Fields",body:"Please fill all the fields."},password_not_match:{header:"Password unmatch",body:"Passwords don't match."},invalid_email_password:{header:"Invalid Email or Password",body:"Invalid email or password. Please try again."},password_too_short:{header:"Password short",body:"Password should be at least 6 characters long."},email_already_registered:{header:"Email Already Registered",body:"This email is already registered. Please use a different email or try logging in."},internal_error:{header:"Internal Error",body:"An unexpected error occurred. Please try again later or contact support if the issue persists."},link_expired_invalid_verify:{header:"Link Expired or Invalid",body:"This link is expired or invalid. Please try verifying your account again."},no_email:{header:"No Email Address Specified!",body:"Please enter your email address."},no_account:{header:"No Account Found",body:"No account found with this email address."},password_reset_success:{header:"Password Reset Successful",body:"Password has been reset successfully."},expired_invalid_reset_link:{header:"Invalid or Expired Reset Link",body:"Invalid or expired reset link. Please try resetting your password again."},provide_password:{header:"Provide Password",body:"No new password is provided. Please provide password."},account_not_verified:{header:"Account is not verified",body:"Please verify your account by clicking the verification link sent to your email and try again. You can request a new verification email using forget password."},delete_warning:{header:"Are you sure you want to delete?",body:"This action cannot be undone. This will permanently delete the item."},business_empty:{header:"Information Incomplete",body:"Please enter a business. This information is required to proceed."},country_empty:{header:"Information Incomplete",body:"Please select a country. This information is required to proceed."},city_empty:{header:"Information Incomplete",body:"Please select a city. This information is required to proceed."},invalid_country:{header:"Invalid Country",body:"The country you have entered is invalid. Please choose a valid country from the list."},city_not_allowed:{header:"City Selection Not Available",body:"No cities are available for the selected country. Please leave the city field empty and proceed forward."},invalid_city:{header:"Invalid City",body:"The city you have entered is not valid for the chosen country. Please choose a valid city from the list."},add_task:{header:"Success",body:"Your task has been added successfully."},task_not_found:{header:"Task Not Found",body:"The task with the given ID was not found."},name_empty:{header:"Information Incomplete",body:"Please enter a name. This information is required to proceed."},name_too_short:{header:"Name Too Short",body:"The name must be at least two character long."},name_too_long:{header:"Name Too Long",body:"The name must not exceed 50 characters."},list_domain_empty:{header:"Information Incomplete",body:"Please enter a list of domains. This information is required to proceed."},list_domain_too_long:{header:"List Too Large",body:"The list must not exceed 500 domains."},list_email_empty:{header:"Information Incomplete",body:"Please enter a list of emails. This information is required to proceed."},list_email_too_long:{header:"List Too Large",body:"The list must not exceed 500 emails."},delete_task:{header:"Success",body:"The task has been deleted successfully."},slot_limit_message:{header:"Slot limit reached!",body:"You can only run %SLOT% slot(s). Please try again after the task has been completed or upgrade to a higher plan."},day_limit_message:{header:"Day limit reached!",body:"To prevent abuse of our infrastructure, we have implemented daily limits. According to the plan you have selected, you have reached your daily limit. Your limit will reset at %RESET_TIME% tomorrow."}}},640:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var i=a(5893),r=a(9008),o=a.n(r),s=a(7294),l=a(4110),n=a(1828),d=a(8773),c=a(1163),h=a(5197),u=a(1664),m=a.n(u),p=a(8481),y=a(2286),x=a(6949);function g(){let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(""),[u,g]=(0,s.useState)(""),[b,v]=(0,s.useState)(!1),f=(0,c.useRouter)(),w="".concat(y.v2,"/login"),_={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.5,ease:"easeOut"}}},N=async()=>{v(!0);let e=(await y.pb.collection("users").listAuthMethods()).authProviders[0],t="".concat(e.authUrl).concat(w),a=e.state,i=e.codeVerifier;localStorage.setItem("state",a),localStorage.setItem("verifier",i),f.push(t)},j=(0,s.useCallback)(async e=>{let t=0,a=!1;for(;t<3&&!a;)try{var i,r;let t;let o=y.pb.authStore.model,s=(null==o?void 0:o.name)||(null===(i=e.meta)||void 0===i?void 0:i.name),l=null===(r=e.meta)||void 0===r?void 0:r.avatarUrl,n=(null==o?void 0:o.email).split("@")[0];if(l){let e=await fetch(l);t=await e.blob()}let d=new FormData;d.append("name",s||"LeadFinder User"),d.append("emailVisibility","1"),t&&d.append("avatar",t,"".concat(n,".png")),await y.pb.collection("users").update(null==o?void 0:o.id,d),a=!0}catch(e){t++}},[]);(0,s.useEffect)(()=>{(async()=>{if(localStorage.getItem("state")){v(!0);let t=localStorage.getItem("verifier"),a=localStorage.getItem("state"),i=new URLSearchParams(f.asPath.split(/\?/)[1]),r=i.get("state"),o=i.get("code");if(localStorage.removeItem("verifier"),localStorage.removeItem("state"),!r||!o||r!==a||!t){g(p.Z.google_signin_error.body),v(!1);return}try{var e;let a=await y.pb.collection("users").authWithOAuth2Code("google",String(o),t,w),i=y.pb.authStore.model;(null===(e=a.meta)||void 0===e?void 0:e.isNew)&&await j(a),localStorage.setItem("user_id",null==i?void 0:i.id),f.push("/overview")}catch(e){g(p.Z.google_signin_error.body)}finally{v(!1)}}else if(y.pb.authStore.isValid){let e=y.pb.authStore.model;if(e&&e.verified){localStorage.setItem("user_id",null==e?void 0:e.id),f.push("/overview");return}}})()},[f,w]);let P=async t=>{if(t.preventDefault(),g(""),v(!0),!e||!a){g(p.Z.fill_all_fiels.body),v(!1);return}try{var i;let t=await y.pb.collection("users").authWithPassword(e,a);localStorage.setItem("user_id",null===(i=t.record)||void 0===i?void 0:i.id),f.push("/overview")}catch(e){g(p.Z.invalid_email_password.body)}finally{v(!1)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o(),{children:(0,i.jsx)("title",{children:"Login - LeadFinder"})}),(0,i.jsxs)(x.E.div,{className:"bg-black text-white bg-[linear-gradient(to_bottom,#000,#200D42_34%,#4F21A1_65%,#A46EDB_82%)] relative overflow-clip h-full min-h-[100vh]",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.15}}},children:[(0,i.jsx)("div",{className:"absolute h-[375px] w-[750px] sm:w-[1536px] sm:h-[768px] lg:w-[2400px] lg:h-[1200px] rounded-[100%] bg-black left-1/2 -translate-x-1/2 border border-[#B48CDE] bg-[radial-gradient(closest-side,#000_82%,#9560EB)] top-[calc(100%-96px)] sm:top-[calc(100%-120px)]"}),(0,i.jsx)("div",{className:"h-full w-full min-h-[100vh] flex justify-center items-center",children:(0,i.jsx)(x.E.div,{className:"w-[350px] md:w-[420px] bg-transparent border-solid border-[rgba(255,255,255,.2)] border-2 backdrop-blur-[20px] shadow-[0_0_10px_rgba(0,0,0,.2)] text-white [border-radius:10px] [padding:30px_40px] [margin-top:2rem] [margin-bottom:2rem]",variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}},children:(0,i.jsxs)(x.E.form,{onSubmit:P,children:[(0,i.jsx)(x.E.h1,{className:"text-4xl text-center",variants:_,children:"Login"}),u&&(0,i.jsx)(x.E.p,{className:"text-white text-center mt-2 bg-white/10 p-2 rounded",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:u}),(0,i.jsxs)(x.E.button,{type:"button",className:"flex justify-center [font-weight:600] items-center gap-2 bg-white text-[#333] h-[45px] w-full rounded-full mt-7",onClick:N,disabled:b,variants:_,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,i.jsx)(l.JM8,{className:"h-6 w-6"}),(0,i.jsx)("span",{children:"Continue with Google"})]}),(0,i.jsxs)(x.E.div,{className:"relative mt-6 flex justify-center items-center",variants:_,children:[(0,i.jsx)("div",{className:"bg-white h-[1px] w-[18%] md:w-[25%]"}),(0,i.jsx)("div",{className:"relative flex justify-center text-sm leading-5",children:(0,i.jsx)("span",{className:"px-2 text-white",children:" Or login with your email "})}),(0,i.jsx)("div",{className:"bg-white h-[1px] w-[18%] md:w-[25%]"})]}),(0,i.jsxs)(x.E.div,{className:"w-full h-[50px] [margin:30px_0]",variants:_,children:[(0,i.jsx)("input",{type:"text",placeholder:"Email",value:e,onChange:e=>t(e.target.value),autoComplete:"username",className:"h-full w-full bg-transparent outline-none border-2 border-solid border-[rgba(255,255,255,.2)] [border-radius:40px] text-[16px] text-white [padding:20px_45px_20px_20px] placeholder:text-white",disabled:b}),(0,i.jsx)(n.GX9,{className:"relative top-[-26px] right-[-85%] md:right-[-88%] transform -translate-y-[50%] text-[20px] w-7 h-7"})]}),(0,i.jsxs)(x.E.div,{className:"w-full h-[50px] [margin-bottom:0.25rem!important] [margin:30px_0]",variants:_,children:[(0,i.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>r(e.target.value),autoComplete:"current-password",className:"h-full w-full bg-transparent outline-none border-2 border-solid border-[rgba(255,255,255,.2)] [border-radius:40px] text-[16px] text-white [padding:20px_45px_20px_20px] placeholder:text-white",disabled:b}),(0,i.jsx)(d.kUi,{className:"relative top-[-26px] right-[-86%] md:right-[-89%] transform -translate-y-[50%] text-[20px] w-6 h-6"})]}),(0,i.jsx)(x.E.div,{className:"flex justify-end [margin-bottom:15px] text-[14.5px] [margin-top:15px]",variants:_,children:(0,i.jsx)(m(),{href:"/forgot-password",className:"text-white [text-decoration:none] hover:[text-decoration:underline]",children:"Forgot password?"})}),(0,i.jsx)(x.E.button,{type:"submit",className:"w-full h-[45px] bg-white border-none outline-none rounded-full shadow-[0_0_10px_rgba(0,0,0,.1)] cursor-pointer text-base text-[#333] [font-weight:600] flex items-center justify-center",disabled:b,variants:_,whileHover:{scale:1.02},whileTap:{scale:.98},children:b?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{className:"mr-2 h-4 w-4",style:{animation:"spin 1s linear infinite"}}),(0,i.jsx)("span",{children:"Please wait"})]}):"Login"}),(0,i.jsx)(x.E.div,{className:"text-[14.5px] text-center [margin:20px_0_15px]",variants:_,children:(0,i.jsxs)("p",{children:["Don't have an account? ",(0,i.jsx)(m(),{href:"/register",className:"text-white [text-decoration:none] hover:[text-decoration:underline]",children:"Register"})]})})]})})})]})]})}}},function(e){e.O(0,[509,232,949,664,888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);